(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(25)},19:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(4),o=n.n(r),c=(n(19),n(5)),l=n(2),s=n.n(l),d=n(10),u=n(6),m=n(7),f=n(8),v=n(11),p=n(9),h=n(12),y=n(1),g=(n(22),n(23),function(e){var t=e.yesterday,n=e.diff;return i.a.createElement("span",{className:"Item_Yesterday"},t," ",n)}),b=function(e){var t=e.price;return i.a.createElement("span",{className:"Item_Price"},t," ")},x=function(e){var t=e.yesterday,n=e.current;t=Number(t.replace(",",""));var a=((n=Number(n.replace(",","")))-t)/t*100;return i.a.createElement("span",{className:"Item_DiffPercent"},a.toFixed(2),"%")},E=function(e){var t=e.onRemove,n=e.id;return i.a.createElement("div",{className:"Item_Remove",onClick:function(e){t(n)}},"\xd7")},_=function(e){var t=e.title,n=e.id;return i.a.createElement("h1",null,i.a.createElement("a",{href:"https://finance.naver.com/item/main.nhn?code="+n,target:"_blank",rel:"noopener noreferrer"},t))},I=function(e){var t=e.title,n=e.price,a=e.yesterday,r=e.diff,o=e.id,c=e.onRemove;return i.a.createElement("div",{className:"Item"},i.a.createElement("div",{className:"Item_Columns"},i.a.createElement("div",{className:"Item_Title"},i.a.createElement(_,{title:t,id:o}),i.a.createElement(E,{onRemove:c,id:o})),i.a.createElement("div",{className:"Item_Content"},i.a.createElement(g,{yesterday:a,diff:r}),i.a.createElement(b,{price:n}),i.a.createElement(x,{yesterday:a,current:n}))))},N=(n(24),function(e){var t=e.value1,n=e.value2,a=e.onChange,r=e.onSubmit,o=e.onKeyPress;return i.a.createElement("div",{className:"form"},i.a.createElement("input",{value:t,onChange:a,onKeyPress:o,name:"title",placeholder:"\uc774\ub984"}),i.a.createElement("input",{value:n,onChange:a,onKeyPress:o,name:"index",placeholder:"\uace0\uc720\ubc88\ud638",type:"number"}),i.a.createElement("div",{className:"create-button",onClick:r},"\ucd94\uac00"))}),O=[],k=[{title:"YG",index:"122870"},{title:"JYP",index:"035900"},{title:"S&C\uc5d4\uc9c4",index:"900080"},{title:"LGE",index:"066570"},{title:"\uae68\ub057\ud55c \ub098\ub77c",index:"004540"},{title:"\uc9c0\ud2b8\ub9ac\ube44\uc564\ud2f0",index:"115450"},{title:"\ucf54\uc624\ub871\ud2f0\uc288\uc9c4",index:"950160"},{title:"\ud30c\ub8e8",index:"043200"},{title:"\uc911\uc559\ubc31\uc2e0",index:"072020"}],w=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(v.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={infos:[],title:"",index:""},n.saveListToLocalstorage=function(){localStorage.setItem("tocklist",JSON.stringify(O))},n.loadListFromLocalstorage=function(){(O=localStorage.getItem("tocklist")?JSON.parse(localStorage.getItem("tocklist")):[]).forEach(function(e){n._getInfos(e)})},n._callApi=function(e){return fetch("https://finance.naver.com/item/main.nhn?code="+e).then(function(e){return e.text()}).catch(function(e){return console.log(e)})},n._getInfos=function(){var e=Object(u.a)(s.a.mark(function e(t){var a,i,r,o,c,l,u,m,f;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,n._callApi(t.index);case 3:(i=e.sent)&&(-1!==i.indexOf('<dl class="blind">')?(o=i.substring(i.indexOf('<dl class="blind">'),i.indexOf("</dl>")),c=o.split("<dd>"),l=c[4].split(" "),u=c[5].split(" ")[1].replace("</dd>",""),m=Number(l[1].replace(",","")-Number(u.replace(",",""))),f=n.state.infos,a=(r=a).concat.apply(r,[{title:t.title,price:l[1],diff:m,yesterday:u,id:t.index}].concat(Object(d.a)(f))),n.setState({infos:a})):n.handleRemove(t.index));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(e){n.setState(Object(c.a)({},e.target.name,e.target.value))},n.handleKeyPress=function(e){"Enter"===e.key&&n.handleSubmit()},n.handleSubmit=function(e){if(e.preventDefault(),n.setState({title:"",index:""}),""!==n.state.title&&""!==n.state.index){var t={title:n.state.title,index:n.state.index};n._getInfos(t),O=O.concat(t),n.saveListToLocalstorage()}},n.handleRemove=function(e){var t=n.state.infos.filter(function(t){return t.id!==e});n.setState({infos:t}),O=O.filter(function(t){return t.index!==e}),n.saveListToLocalstorage()},n._renderInfos=function(){return n.state.infos.map(function(e){var t=Object(y.a)(Object(y.a)(n)).handleRemove;return i.a.createElement(I,{title:e.title,price:e.price,yesterday:e.yesterday,diff:e.diff,id:e.id,key:e.id,onRemove:t})})},n._renderForm=function(){var e=Object(y.a)(Object(y.a)(n)),t=e.handleChange,a=e.handleSubmit,r=e.handleKeyPress;return i.a.createElement(N,{value1:n.state.title,value2:n.state.index,onKeyPress:r,onChange:t,onSubmit:a})},n}return Object(h.a)(t,e),Object(f.a)(t,[{key:"_setDefaultList",value:function(){O=k,this.saveListToLocalstorage()}},{key:"componentDidMount",value:function(){this.loadListFromLocalstorage()}},{key:"render",value:function(){return i.a.createElement("div",{className:this.state.infos?"App":"App-loading"},this.state.infos?this._renderInfos():"Loading",this._renderForm())}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[13,1,2]]]);
//# sourceMappingURL=main.aa984c50.chunk.js.map